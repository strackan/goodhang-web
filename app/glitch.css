/* Glitch Intro Effects */

/* RGB Split / Chromatic Aberration */
@keyframes rgbSplit {
  0%, 100% {
    text-shadow: 0 0 0 transparent;
  }
  20% {
    text-shadow: -2px 0 0 rgba(255, 0, 0, 0.7), 2px 0 0 rgba(0, 255, 255, 0.7);
  }
  40% {
    text-shadow: -4px 0 0 rgba(255, 0, 0, 0.8), 4px 0 0 rgba(0, 255, 255, 0.8);
  }
  60% {
    text-shadow: -2px 0 0 rgba(255, 0, 0, 0.7), 2px 0 0 rgba(0, 255, 255, 0.7);
  }
  80% {
    text-shadow: -3px 0 0 rgba(255, 0, 0, 0.6), 3px 0 0 rgba(0, 255, 255, 0.6);
  }
}

/* VHS Tracking Lines */
@keyframes vhsTracking {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100%);
  }
}

/* Screen Flicker */
@keyframes flicker {
  0%, 100% {
    opacity: 1;
  }
  10%, 30%, 50%, 70%, 90% {
    opacity: 0.95;
  }
  20%, 40%, 60%, 80% {
    opacity: 0.85;
  }
}

/* Text Corruption */
@keyframes textCorrupt {
  0%, 100% {
    transform: translateX(0) skewX(0deg);
  }
  25% {
    transform: translateX(-2px) skewX(-2deg);
  }
  50% {
    transform: translateX(2px) skewX(2deg);
  }
  75% {
    transform: translateX(-1px) skewX(-1deg);
  }
}

/* Screen Tear */
@keyframes screenTear {
  0% {
    clip-path: inset(0 0 0 0);
  }
  10% {
    clip-path: inset(20% 0 60% 0);
  }
  20% {
    clip-path: inset(40% 0 40% 0);
  }
  30% {
    clip-path: inset(60% 0 20% 0);
  }
  40% {
    clip-path: inset(80% 0 0 0);
  }
  50% {
    clip-path: inset(0 0 80% 0);
  }
  60% {
    clip-path: inset(0 0 60% 0);
  }
  70% {
    clip-path: inset(0 0 40% 0);
  }
  80% {
    clip-path: inset(0 0 20% 0);
  }
  90%, 100% {
    clip-path: inset(0 0 0 0);
  }
}

/* CRT Power On */
@keyframes crtPowerOn {
  0% {
    transform: scaleY(0.001) scaleX(0.001);
    opacity: 0;
  }
  50% {
    transform: scaleY(0.001) scaleX(1);
    opacity: 0.5;
  }
  100% {
    transform: scaleY(1) scaleX(1);
    opacity: 1;
  }
}

/* Signal Loss */
@keyframes signalLoss {
  0%, 100% {
    transform: translateX(0);
    filter: none;
  }
  25% {
    transform: translateX(-10px);
    filter: hue-rotate(90deg);
  }
  50% {
    transform: translateX(10px);
    filter: hue-rotate(180deg);
  }
  75% {
    transform: translateX(-5px);
    filter: hue-rotate(270deg);
  }
}

/* Utility Classes */
.glitch-rgb-split {
  animation: rgbSplit 0.3s infinite;
}

.glitch-flicker {
  animation: flicker 0.15s infinite;
}

.glitch-text-corrupt {
  animation: textCorrupt 0.2s infinite;
}

.glitch-screen-tear {
  animation: screenTear 0.5s ease-in-out;
}

.glitch-crt-on {
  animation: crtPowerOn 0.8s ease-out forwards;
}

.glitch-signal-loss {
  animation: signalLoss 0.3s ease-in-out infinite;
}

/* VHS Tracking Line Element */
.vhs-tracking-line {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 3px;
  background: linear-gradient(
    to bottom,
    transparent,
    rgba(255, 255, 255, 0.3),
    transparent
  );
  animation: vhsTracking 2s linear infinite;
  pointer-events: none;
  z-index: 1000;
}

/* Static Overlay */
.static-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  opacity: 0;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  animation: staticFlicker 0.1s infinite;
}

@keyframes staticFlicker {
  0%, 100% { opacity: 0.03; }
  50% { opacity: 0.08; }
}

/* Glitch Flash Container */
.glitch-flash {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0;
}

.glitch-flash.active {
  opacity: 1;
}

/* Color Wash Effects */
.color-wash-cyan {
  background: rgba(0, 255, 255, 0.1);
  animation: colorPulse 0.3s ease-in-out;
}

.color-wash-magenta {
  background: rgba(255, 0, 255, 0.1);
  animation: colorPulse 0.3s ease-in-out;
}

@keyframes colorPulse {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

/* Accessibility: Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .glitch-rgb-split,
  .glitch-flicker,
  .glitch-text-corrupt,
  .glitch-screen-tear,
  .glitch-signal-loss,
  .vhs-tracking-line,
  .static-overlay {
    animation: none !important;
  }

  .glitch-crt-on {
    animation: simpleFadeIn 0.5s ease-out forwards !important;
  }

  @keyframes simpleFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
}
